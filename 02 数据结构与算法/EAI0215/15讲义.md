# EAI｜02.15 数据结构与算法 课程讲义  
课程名称：数据结构与算法  
单元主题：综合实践｜智能体系统集成  
授课年级：G3+  
计划课时：90分钟  

## 课程概括  
本课作为整个系列的终极挑战，通过构建智能扫地机器人仿真系统，综合运用字典存储、队列搜索、函数封装等核心技能。重点实现环境建模-路径规划-任务执行的完整闭环，并扩展自动充电逻辑，为后续具身人工智能课程搭建认知桥梁。  

## 教学目标  
### 🎯知识与技能  
1. 综合运用字典/队列/函数构建复杂系统  
2. 掌握多模块协同的调试方法  
3. 实现状态机驱动的行为控制系统  

### 🎯过程与方法  
1. 采用分层架构设计解耦系统组件  
2. 通过日志分析定位跨模块问题  

### 🎯情感态度价值观  
1. 培养完整产品开发的工程思维  
2. 增强复杂系统的问题解决信心  

## 重点难点  
| 教学重点 | 教学难点 |  
|----------|----------|  
| ✅ 多数据结构的协同应用 | ⚠️ 多线程任务调度冲突 |  
| ✅ 行为状态机的设计实现 | ⚠️ 电量预测算法的精度控制 |  
| ✅ 系统性能的瓶颈分析 | ⚠️ 充电桩资源的竞争处理 |  

## 教学准备  
| 软件 | 硬件 | 扩展 |  
|------|------|------|  
| Python 3.10+ | 　 | [虚拟地图编辑器](https://bit.ly/15map_edit) |  
| ROS模拟器 | 　 | [系统监控仪表盘](https://bit.ly/15sys_monitor) |  

## 教学过程  
| 环节 | 主要内容 | 预计时长 | 素材附件 |  
|------|----------|----------|----------|  
| 环节1: 情境导入 | ● 对比iRobot/Dyson等商业产品架构<br>● 拆解扫地机器人核心模块 | 10分钟 | [iRobot架构图](https://bit.ly/15irobot_arch) |  
| 环节2: 系统设计 | ● 绘制系统架构图（数据流/控制流）<br>● 定义模块通信接口规范<br>● 制定异常处理策略 | 20分钟 | [架构模板](https://bit.ly/15arch_temp) |  
| 环节3: 核心开发 | ● 环境建模（字典存储房间状态）<br>● 路径规划（BFS队列实现）<br>● 行为控制（函数封装清扫/充电） | 35分钟 | [代码沙盒](https://bit.ly/15code_box) |  
| 环节4: 调试优化 | ● 性能分析（时间/内存消耗）<br>● 实现自动充电阈值策略<br>● 处理死锁和竞态条件 | 20分钟 | [性能火焰图](https://bit.ly/15flame_graph) |  
| 环节5: 总结展望 | ● 系统瓶颈分析报告<br>● 具身智能课程预告演示 | 5分钟 | [ROS2导航DEMO](https://bit.ly/15ros2_demo) |  

## 课程总结  
| 内容 | 主要内容 | 预计时长 | 素材附件 |  
|------|----------|----------|----------|  
| A 拓展任务 | ● 实现多房间自主导航<br>● 添加机器学习耗电预测 | - | - |  
| B 课程总结 | ● 课程知识图谱全景回顾<br>● 复杂系统设计心法总结 | - | - |  
| C 课后作业 | ● 完善系统文档<br>● 预习具身智能基础 | - | - |  

---

### 终极挑战代码框架  
```python
class SmartVacuum:
    def __init__(self):
        self.map = {}  # 字典存储环境信息
        self.task_queue = deque()  # 路径规划队列
        self.battery = 100
    
    def mapping(self, room_data):
        """环境建模"""
        self.map = {pos: state for pos, state in room_data}
    
    def path_planning(self, start, goal):
        """BFS路径规划"""
        # 此处插入第14课BFS算法
        
    def cleaning(self, path):
        """执行清扫"""
        for pos in path:
            if self.battery < 15: 
                self.auto_charge()
            self.map[pos] = 'clean'
            self.battery -= 1
    
    def auto_charge(self):
        """扩展思考：自动充电逻辑"""
        # 预留接口供学生实现

# 工业级扩展提示
"""
1. 在auto_charge()中集成第11课的二分查找快速定位充电桩
2. 使用第8课的优先级队列管理清扫任务
3. 通过第5课的列表存储清洁路径历史
"""